import{a as g,j as e,u as k,r as y,H as N}from"./app-B7hn0IT_.js";import{C as D,A as w}from"./app-layout-UxGoMd_4.js";import{c as F,d as S}from"./index-BhdjQ_P-.js";import{A as T}from"./accounts-table-BR2grk0Z.js";import{B as f,f as _,a as C}from"./app-logo-icon--o7o-019.js";import{D as P,a as A,b as B,c as z,d as E,e as H}from"./dialog-LzgQO9No.js";import{T as M,b as O,c as p,d as t,e as V,f as n}from"./table-KMd8Nv9a.js";import{F as q,c as L,d as x,e as h,f as u,S as R,h as U,i as G,j as I,k as $,b as J,g as m}from"./select-BGHq6_Yl.js";import{I as b}from"./input-DdgX0fs2.js";import{T as K}from"./transactions-table-CuTJFMkD.js";/* empty css            */import"./index-ApsJfPU3.js";import"./label-C7YsgcgC.js";import"./index-DBBxQTRM.js";import"./check-Bwv_oDkW.js";function c({className:a}){const d=g.useId();return e.jsxs("svg",{className:a,fill:"none",children:[e.jsx("defs",{children:e.jsx("pattern",{id:d,x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M-3 13 15-5M-5 5l18-18M-1 21 17 3"})})}),e.jsx("rect",{stroke:"none",fill:`url(#${d})`,width:"100%",height:"100%"})]})}function Q({pendingBill:a,accounts:d}){const{data:i,setData:o,post:s,processing:j,errors:l}=k({account_id:"",bill_instance_id:a.id,amount:a.amount,paid_date:new Date().toISOString().split("T")[0],notes:"Paying bill for "+a.bill?.biller?.name}),v=r=>{r.preventDefault(),s(F.url(),{onSuccess:()=>{y.reload()}})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:v,children:e.jsxs(q,{children:[e.jsxs(L,{children:[e.jsxs(x,{children:[e.jsx(h,{htmlFor:"account_id",children:"Account"}),e.jsxs(u,{children:[e.jsxs(R,{value:i.account_id,onValueChange:r=>o("account_id",r),children:[e.jsx(U,{children:e.jsx(G,{placeholder:"Select an account"})}),e.jsx(I,{children:d.map(r=>e.jsx($,{value:r.id.toString(),children:r.name},r.id))})]}),i.account_id&&e.jsx(J,{children:d.find(r=>r.id.toString()===i.account_id)?.balance}),e.jsx(m,{errors:l.account_id?[{message:l.account_id}]:void 0})]})]}),e.jsxs(x,{children:[e.jsx(h,{htmlFor:"amount",children:"Amount"}),e.jsxs(u,{children:[e.jsx(b,{id:"amount",type:"number",step:"0.01",min:"0",value:i.amount,onChange:r=>o("amount",parseFloat(r.target.value)),placeholder:"Enter amount"}),e.jsx(m,{errors:l.amount?[{message:l.amount}]:void 0})]})]}),e.jsxs(x,{children:[e.jsx(h,{htmlFor:"date",children:"Date"}),e.jsxs(u,{children:[e.jsx(b,{id:"date",type:"date",value:i.paid_date,onChange:r=>o("paid_date",r.target.value)}),e.jsx(m,{errors:l.paid_date?[{message:l.paid_date}]:void 0})]})]}),e.jsxs(x,{children:[e.jsx(h,{htmlFor:"notes",children:"Notes"}),e.jsxs(u,{children:[e.jsx(b,{id:"notes",type:"text",value:i.notes,onChange:r=>o("notes",r.target.value),placeholder:"Enter notes"}),e.jsx(m,{errors:l.notes?[{message:l.notes}]:void 0})]})]})]}),e.jsx("div",{className:"flex justify-between gap-2",children:e.jsx(f,{type:"submit",disabled:j,children:j?"Paying...":"Pay Bill"})})]})})})}function W({billInstances:a,accounts:d}){const i=d.data.map(s=>({id:s.id,name:s.name,balance:s.balance.toString()})),o=()=>e.jsxs(M,{children:[e.jsx(O,{children:e.jsxs(p,{children:[e.jsx(t,{children:"#"}),e.jsx(t,{children:"Biller"}),e.jsx(t,{children:"Frequency"}),e.jsx(t,{children:"Due Date"}),e.jsx(t,{children:"Amount"}),e.jsx(t,{children:"Action"})]})}),e.jsx(V,{children:a.map(s=>e.jsxs(p,{children:[e.jsx(n,{children:s.id}),e.jsx(n,{children:s.bill?.biller?.name}),e.jsx(n,{className:"capitalize",children:s.bill?.frequency}),e.jsx(n,{children:_(s.due_date)}),e.jsx(n,{children:C(s.amount)}),e.jsx(n,{children:e.jsxs(P,{children:[e.jsx(A,{asChild:!0,children:e.jsxs(f,{variant:"default",size:"sm",children:[e.jsx(D,{}),"Pay"]})}),e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(E,{children:"Pay Bill"}),e.jsx(H,{children:"Select an account and pay the bill."})]}),e.jsx(Q,{pendingBill:s,accounts:i})]})]})})]},s.id))})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center py-2 uppercase",children:e.jsx("h2",{className:"text-lg font-bold",children:"Pending Bills"})}),a.length>0?o():e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No pending bills found"})})]})}const X=[{title:"Dashboard",href:S().url}];function ue({transactions:a,accounts:d,pendingBills:i}){return e.jsxs(w,{breadcrumbs:X,children:[e.jsx(N,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-4",children:[e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(c,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})}),e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(c,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})}),e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(c,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})}),e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(c,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})})]}),e.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"relative col-span-2 overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(K,{transactions:a,type:"expense"})}),e.jsx("div",{className:"relative overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(T,{accounts:d,fullView:!1})})]}),e.jsx("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:e.jsx("div",{className:"relative col-span-2 overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(W,{billInstances:i,accounts:d})})}),e.jsx("div",{className:"relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:e.jsx(c,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})})]})]})}export{ue as default};
