import{j as e,u as y,r as S}from"./app-B7hn0IT_.js";import{C as F}from"./confirm-dialog-Gn32p_WO.js";import{c as C,B as h}from"./app-logo-icon--o7o-019.js";import{C as B,a as D}from"./card-CUqAMYEJ.js";import{F as w,a as _,b as E,c as A,d,e as l,f as c,g as u,S as k,h as I,i as T,j as L,k as N}from"./select-BGHq6_Yl.js";import{I as V}from"./input-DdgX0fs2.js";import{b as m}from"./app-layout-UxGoMd_4.js";function z({className:r,...s}){return e.jsx("textarea",{"data-slot":"textarea",className:C("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...s})}function O({biller:r,categories:s}){const n=r.id!==void 0,{data:a,setData:o,post:g,put:j,processing:x,errors:i,reset:f}=y({name:r.name?r.name:"",description:r.description?r.description:"",category_id:r.category_id?r.category_id:""}),v=t=>{t.preventDefault();const p=n?m.update(r.id).url:m.store().url;n?j(p):g(p,{onSuccess:()=>{f()}})},b=()=>S.delete(m.destroy(r.id).url);return e.jsx(B,{children:e.jsx(D,{children:e.jsx("form",{onSubmit:v,children:e.jsxs(w,{children:[e.jsx(_,{children:"Add a new Biller"}),e.jsx(E,{children:"Add details about a new biller"}),e.jsxs(A,{children:[e.jsxs(d,{children:[e.jsx(l,{htmlFor:"name",children:"Biller name"}),e.jsxs(c,{children:[e.jsx(V,{id:"name",type:"text",value:a.name,onChange:t=>o("name",t.target.value),placeholder:"Enter the biller name"}),e.jsx(u,{errors:i.name?[{message:i.name}]:void 0})]})]}),e.jsxs(d,{children:[e.jsx(l,{htmlFor:"type",children:"Biller category"}),e.jsxs(c,{children:[e.jsxs(k,{value:a.category_id.toString(),onValueChange:t=>o("category_id",t),children:[e.jsx(I,{children:e.jsx(T,{placeholder:"Select account type"})}),e.jsx(L,{children:s.map(t=>e.jsx(N,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(u,{errors:i.category_id?[{message:i.category_id}]:void 0})]})]}),e.jsxs(d,{children:[e.jsx(l,{htmlFor:"description",children:"Description"}),e.jsxs(c,{children:[e.jsx(z,{placeholder:"Enter description",value:a.description,onChange:t=>o("description",t.target.value)}),e.jsx(u,{errors:i.description?[{message:i.description}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx(F,{title:"Delete Biller",description:"Are you sure you want to delete this biller?",confirmButtonText:"Delete",trigger:e.jsx(h,{variant:"destructive",type:"button",children:"Delete"}),onConfirm:b}),e.jsx(h,{type:"submit",disabled:x,children:x?"Saving...":n?"Save Biller":"Add Biller"})]})]})})})})}export{O as B};
