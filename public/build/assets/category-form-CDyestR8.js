import{u as C,j as e,r as f}from"./app-B7hn0IT_.js";import{C as v}from"./confirm-dialog-Gn32p_WO.js";import{B as d}from"./app-logo-icon--o7o-019.js";import{C as F,a as S}from"./card-CUqAMYEJ.js";import{F as b,a as D,b as E,c as w,d as c,e as m,f as u,g as p,S as A,h as I,i as B,j as T,k}from"./select-BGHq6_Yl.js";import{I as L}from"./input-DdgX0fs2.js";import{k as V,l as G,m as N}from"./app-layout-UxGoMd_4.js";const O=[{value:"income",label:"Income"},{value:"expense",label:"Expense"}];function P({category:s}){const a=s.id!==void 0,{data:n,setData:l,post:x,put:h,processing:i,errors:r,reset:j}=C({name:s.name?s.name:"",type:s.type?s.type:""}),y=t=>{t.preventDefault();const o=a?V(s.id).url:G().url;a?h(o):x(o,{onSuccess:()=>{j()}})},g=()=>f.delete(N(s.id).url);return e.jsx(F,{children:e.jsx(S,{children:e.jsx("form",{onSubmit:y,children:e.jsxs(b,{children:[e.jsx(D,{children:"Add a new Category"}),e.jsx(E,{children:"Add details about a new category"}),e.jsxs(w,{children:[e.jsxs(c,{children:[e.jsx(m,{htmlFor:"name",children:"Category name"}),e.jsxs(u,{children:[e.jsx(L,{id:"name",type:"text",value:n.name,onChange:t=>l("name",t.target.value),placeholder:"Enter the category name"}),e.jsx(p,{errors:r.name?[{message:r.name}]:void 0})]})]}),e.jsxs(c,{children:[e.jsx(m,{htmlFor:"type",children:"Category type"}),e.jsxs(u,{children:[e.jsxs(A,{value:n.type,onValueChange:t=>l("type",t),children:[e.jsx(I,{children:e.jsx(B,{placeholder:"Select account type"})}),e.jsx(T,{children:O.map(t=>e.jsx(k,{value:t.value,children:t.label},t.value))})]}),e.jsx(p,{errors:r.type?[{message:r.type}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx(v,{title:"Delete Category",description:"Are you sure you want to delete this category?",confirmButtonText:"Delete",trigger:e.jsx(d,{variant:"destructive",type:"button",children:"Delete"}),onConfirm:g}),e.jsx(d,{type:"submit",disabled:i,children:i?"Saving...":a?"Save Category":"Add Category"})]})]})})})})}export{P as C};
