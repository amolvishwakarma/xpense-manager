import{u as D,j as e,r as A,H as E}from"./app-B7hn0IT_.js";import{H as w}from"./heading-BYlUtQGF.js";import{C as N}from"./confirm-dialog-Gn32p_WO.js";import{B as j}from"./app-logo-icon--o7o-019.js";import{C as H,a as B}from"./card-CUqAMYEJ.js";import{F as L,a as T,b as V,c as k,d as n,e as l,f as a,S as g,h as f,i as v,j as S,k as y,g as c}from"./select-BGHq6_Yl.js";import{I as x}from"./input-DdgX0fs2.js";import{o as q,p as G,q as O,A as P,r as R}from"./app-layout-UxGoMd_4.js";/* empty css            */import"./index-ApsJfPU3.js";import"./label-C7YsgcgC.js";import"./index-DBBxQTRM.js";import"./check-Bwv_oDkW.js";import"./index-BhdjQ_P-.js";function z({accounts:m,categories:u,transaction:t}){const r=t.id!==void 0,{data:d,setData:o,post:_,put:F,processing:h,errors:i,reset:I}=D({account_id:t.account_id?t.account_id.toString():"",category_id:t.category_id?t.category_id.toString():"",amount:t.amount||"",date:t.date?new Date(t.date).toISOString().split("T")[0]:"",description:t.description||""}),C=s=>{s.preventDefault();const p=r?q(t.id).url:G().url;r?F(p):_(p,{onSuccess:()=>{I()}})},b=()=>A.delete(O(t.id).url);return e.jsx(H,{children:e.jsx(B,{children:e.jsx("form",{onSubmit:C,children:e.jsxs(L,{children:[e.jsx(T,{children:r?"Edit Income":"Add Income"}),e.jsx(V,{children:r?"Edit the details of a income":"Add details about a new income"}),e.jsxs(k,{children:[e.jsxs(n,{children:[e.jsx(l,{htmlFor:"account_id",children:"Account"}),e.jsxs(a,{children:[e.jsxs(g,{value:d.account_id,onValueChange:s=>o("account_id",s),children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select an account"})}),e.jsx(S,{children:m.map(s=>e.jsx(y,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(c,{errors:i.account_id?[{message:i.account_id}]:void 0})]})]}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"category_id",children:"Category"}),e.jsxs(a,{children:[e.jsxs(g,{value:d.category_id,onValueChange:s=>o("category_id",s),children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select a category"})}),e.jsx(S,{children:u.map(s=>e.jsx(y,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(c,{errors:i.category_id?[{message:i.category_id}]:void 0})]})]}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"amount",children:"Amount"}),e.jsxs(a,{children:[e.jsx(x,{id:"amount",type:"number",step:"0.01",min:"0",value:d.amount,onChange:s=>o("amount",s.target.value),placeholder:"Enter amount"}),e.jsx(c,{errors:i.amount?[{message:i.amount}]:void 0})]})]}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"date",children:"Date"}),e.jsxs(a,{children:[e.jsx(x,{id:"date",type:"date",value:d.date,onChange:s=>o("date",s.target.value)}),e.jsx(c,{errors:i.date?[{message:i.date}]:void 0})]})]}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"description",children:"Description"}),e.jsxs(a,{children:[e.jsx(x,{id:"description",type:"text",value:d.description,onChange:s=>o("description",s.target.value),placeholder:"Enter description"}),e.jsx(c,{errors:i.description?[{message:i.description}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[r&&e.jsx(N,{title:"Delete Income",description:"Are you sure you want to delete this income?",confirmButtonText:"Delete",trigger:e.jsx(j,{variant:"destructive",type:"button",children:"Delete"}),onConfirm:b}),e.jsx(j,{type:"submit",disabled:h,children:h?"Saving...":r?"Save Income":"Add Income"})]})]})})})})}const J=[{title:"Incomes",href:R.index().url},{title:"Add Income",href:"#"}];function de({transaction:m,accounts:u,categories:t}){return e.jsxs(P,{breadcrumbs:J,children:[e.jsx(E,{title:"Incomes"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx(w,{title:"Incomes",description:"All my incomes"}),e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx("div",{className:"col-span-3 lg:col-span-2",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsx(z,{accounts:u,categories:t,transaction:m})})}),e.jsx("div",{})]})]})]})}export{de as default};
