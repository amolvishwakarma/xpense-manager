import{a as f,j as t,G as b,u as ke,H as Ee}from"./app-B7hn0IT_.js";import{H as De}from"./heading-BYlUtQGF.js";import{c as U,u as T,a as N,b as G,P as Te,e as Be,d as Fe}from"./index-ApsJfPU3.js";import{a as ne,e as Oe,f as qe,A as Me,b as He}from"./app-layout-UxGoMd_4.js";import{u as B,c as k,B as $e,f as Le}from"./app-logo-icon--o7o-019.js";import{C as Ve,F as Qe,a as Ue,b as Ge,c as ze,d as I,e as P,f as R,g as E,S as Ke,h as Ye,i as We,j as Xe,k as Je}from"./select-BGHq6_Yl.js";import{C as ae,a as se,b as Ze,c as et}from"./card-CUqAMYEJ.js";import{I as V}from"./input-DdgX0fs2.js";import{u as tt}from"./index-DBBxQTRM.js";import{q as le,a as rt}from"./index-BhdjQ_P-.js";import{B as ot}from"./biller-form-BwF_CAfO.js";/* empty css            */import"./label-C7YsgcgC.js";import"./check-Bwv_oDkW.js";import"./confirm-dialog-Gn32p_WO.js";var F="Collapsible",[nt,ie]=U(F),[at,z]=nt(F),ce=f.forwardRef((e,r)=>{const{__scopeCollapsible:o,open:n,defaultOpen:a,disabled:s,onOpenChange:i,...d}=e,[c,m]=T({prop:n,defaultProp:a??!1,onChange:i,caller:F});return t.jsx(at,{scope:o,disabled:s,contentId:ne(),open:c,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),children:t.jsx(N.div,{"data-state":Y(c),"data-disabled":s?"":void 0,...d,ref:r})})});ce.displayName=F;var de="CollapsibleTrigger",ue=f.forwardRef((e,r)=>{const{__scopeCollapsible:o,...n}=e,a=z(de,o);return t.jsx(N.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Y(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:r,onClick:G(e.onClick,a.onOpenToggle)})});ue.displayName=de;var K="CollapsibleContent",pe=f.forwardRef((e,r)=>{const{forceMount:o,...n}=e,a=z(K,e.__scopeCollapsible);return t.jsx(Te,{present:o||a.open,children:({present:s})=>t.jsx(st,{...n,ref:r,present:s})})});pe.displayName=K;var st=f.forwardRef((e,r)=>{const{__scopeCollapsible:o,present:n,children:a,...s}=e,i=z(K,o),[d,c]=f.useState(n),m=f.useRef(null),p=B(r,m),l=f.useRef(0),h=l.current,v=f.useRef(0),w=v.current,y=i.open||d,A=f.useRef(y),g=f.useRef(void 0);return f.useEffect(()=>{const u=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(u)},[]),Be(()=>{const u=m.current;if(u){g.current=g.current||{transitionDuration:u.style.transitionDuration,animationName:u.style.animationName},u.style.transitionDuration="0s",u.style.animationName="none";const j=u.getBoundingClientRect();l.current=j.height,v.current=j.width,A.current||(u.style.transitionDuration=g.current.transitionDuration,u.style.animationName=g.current.animationName),c(n)}},[i.open,n]),t.jsx(N.div,{"data-state":Y(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!y,...s,ref:p,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&a})});function Y(e){return e?"open":"closed"}var lt=ce,it=ue,ct=pe,_="Accordion",dt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[W,ut,pt]=Oe(_),[O]=U(_,[pt,ie]),X=ie(),me=b.forwardRef((e,r)=>{const{type:o,...n}=e,a=n,s=n;return t.jsx(W.Provider,{scope:e.__scopeAccordion,children:o==="multiple"?t.jsx(xt,{...s,ref:r}):t.jsx(ht,{...a,ref:r})})});me.displayName=_;var[fe,mt]=O(_),[he,ft]=O(_,{collapsible:!1}),ht=b.forwardRef((e,r)=>{const{value:o,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...i}=e,[d,c]=T({prop:o,defaultProp:n??"",onChange:a,caller:_});return t.jsx(fe,{scope:e.__scopeAccordion,value:b.useMemo(()=>d?[d]:[],[d]),onItemOpen:c,onItemClose:b.useCallback(()=>s&&c(""),[s,c]),children:t.jsx(he,{scope:e.__scopeAccordion,collapsible:s,children:t.jsx(xe,{...i,ref:r})})})}),xt=b.forwardRef((e,r)=>{const{value:o,defaultValue:n,onValueChange:a=()=>{},...s}=e,[i,d]=T({prop:o,defaultProp:n??[],onChange:a,caller:_}),c=b.useCallback(p=>d((l=[])=>[...l,p]),[d]),m=b.useCallback(p=>d((l=[])=>l.filter(h=>h!==p)),[d]);return t.jsx(fe,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:m,children:t.jsx(he,{scope:e.__scopeAccordion,collapsible:!0,children:t.jsx(xe,{...s,ref:r})})})}),[bt,q]=O(_),xe=b.forwardRef((e,r)=>{const{__scopeAccordion:o,disabled:n,dir:a,orientation:s="vertical",...i}=e,d=b.useRef(null),c=B(d,r),m=ut(o),l=qe(a)==="ltr",h=G(e.onKeyDown,v=>{if(!dt.includes(v.key))return;const w=v.target,y=m().filter(L=>!L.ref.current?.disabled),A=y.findIndex(L=>L.ref.current===w),g=y.length;if(A===-1)return;v.preventDefault();let u=A;const j=0,S=g-1,H=()=>{u=A+1,u>S&&(u=j)},$=()=>{u=A-1,u<j&&(u=S)};switch(v.key){case"Home":u=j;break;case"End":u=S;break;case"ArrowRight":s==="horizontal"&&(l?H():$());break;case"ArrowDown":s==="vertical"&&H();break;case"ArrowLeft":s==="horizontal"&&(l?$():H());break;case"ArrowUp":s==="vertical"&&$();break}const Re=u%g;y[Re].ref.current?.focus()});return t.jsx(bt,{scope:o,disabled:n,direction:a,orientation:s,children:t.jsx(W.Slot,{scope:o,children:t.jsx(N.div,{...i,"data-orientation":s,ref:c,onKeyDown:n?void 0:h})})})}),D="AccordionItem",[vt,J]=O(D),be=b.forwardRef((e,r)=>{const{__scopeAccordion:o,value:n,...a}=e,s=q(D,o),i=mt(D,o),d=X(o),c=ne(),m=n&&i.value.includes(n)||!1,p=s.disabled||e.disabled;return t.jsx(vt,{scope:o,open:m,disabled:p,triggerId:c,children:t.jsx(lt,{"data-orientation":s.orientation,"data-state":_e(m),...d,...a,ref:r,disabled:p,open:m,onOpenChange:l=>{l?i.onItemOpen(n):i.onItemClose(n)}})})});be.displayName=D;var ve="AccordionHeader",ge=b.forwardRef((e,r)=>{const{__scopeAccordion:o,...n}=e,a=q(_,o),s=J(ve,o);return t.jsx(N.h3,{"data-orientation":a.orientation,"data-state":_e(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:r})});ge.displayName=ve;var Q="AccordionTrigger",ye=b.forwardRef((e,r)=>{const{__scopeAccordion:o,...n}=e,a=q(_,o),s=J(Q,o),i=ft(Q,o),d=X(o);return t.jsx(W.ItemSlot,{scope:o,children:t.jsx(it,{"aria-disabled":s.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...d,...n,ref:r})})});ye.displayName=Q;var je="AccordionContent",Ce=b.forwardRef((e,r)=>{const{__scopeAccordion:o,...n}=e,a=q(_,o),s=J(je,o),i=X(o);return t.jsx(ct,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...i,...n,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Ce.displayName=je;function _e(e){return e?"open":"closed"}var gt=me,yt=be,jt=ge,Ct=ye,_t=Ce;function At({...e}){return t.jsx(gt,{"data-slot":"accordion",...e})}function ee({className:e,...r}){return t.jsx(yt,{"data-slot":"accordion-item",className:k("border-b last:border-b-0",e),...r})}function te({className:e,children:r,...o}){return t.jsx(jt,{className:"flex",children:t.jsxs(Ct,{"data-slot":"accordion-trigger",className:k("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...o,children:[r,t.jsx(Ve,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function re({className:e,children:r,...o}){return t.jsx(_t,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...o,children:t.jsx("div",{className:k("pt-0 pb-4",e),children:r})})}var M="Switch",[wt]=U(M),[Nt,St]=wt(M),Ae=f.forwardRef((e,r)=>{const{__scopeSwitch:o,name:n,checked:a,defaultChecked:s,required:i,disabled:d,value:c="on",onCheckedChange:m,form:p,...l}=e,[h,v]=f.useState(null),w=B(r,j=>v(j)),y=f.useRef(!1),A=h?p||!!h.closest("form"):!0,[g,u]=T({prop:a,defaultProp:s??!1,onChange:m,caller:M});return t.jsxs(Nt,{scope:o,checked:g,disabled:d,children:[t.jsx(N.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":Ie(g),"data-disabled":d?"":void 0,disabled:d,value:c,...l,ref:w,onClick:G(e.onClick,j=>{u(S=>!S),A&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})}),A&&t.jsx(Se,{control:h,bubbles:!y.current,name:n,value:c,checked:g,required:i,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});Ae.displayName=M;var we="SwitchThumb",Ne=f.forwardRef((e,r)=>{const{__scopeSwitch:o,...n}=e,a=St(we,o);return t.jsx(N.span,{"data-state":Ie(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:r})});Ne.displayName=we;var It="SwitchBubbleInput",Se=f.forwardRef(({__scopeSwitch:e,control:r,checked:o,bubbles:n=!0,...a},s)=>{const i=f.useRef(null),d=B(i,s),c=tt(o),m=Fe(r);return f.useEffect(()=>{const p=i.current;if(!p)return;const l=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(l,"checked").set;if(c!==o&&v){const w=new Event("click",{bubbles:n});v.call(p,o),p.dispatchEvent(w)}},[c,o,n]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...a,tabIndex:-1,ref:d,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Se.displayName=It;function Ie(e){return e?"checked":"unchecked"}var Pt=Ae,Rt=Ne;function kt({className:e,...r}){return t.jsx(Pt,{"data-slot":"switch",className:k("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(Rt,{"data-slot":"switch-thumb",className:k("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const C=e=>({url:C.url(e),method:"post"});C.definition={methods:["post"],url:"/bills"};C.url=e=>C.definition.url+le(e);C.post=e=>({url:C.url(e),method:"post"});const Pe=e=>({action:C.url(e),method:"post"});Pe.post=e=>({action:C.url(e),method:"post"});C.form=Pe;const x=(e,r)=>({url:x.url(e,r),method:"put"});x.definition={methods:["put","patch"],url:"/bills/{bill}"};x.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={bill:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={bill:e.id}),Array.isArray(e)&&(e={bill:e[0]}),e=rt(e);const o={bill:typeof e.bill=="object"?e.bill.id:e.bill};return x.definition.url.replace("{bill}",o.bill.toString()).replace(/\/+$/,"")+le(r)};x.put=(e,r)=>({url:x.url(e,r),method:"put"});x.patch=(e,r)=>({url:x.url(e,r),method:"patch"});const Z=(e,r)=>({action:x.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});Z.put=(e,r)=>({action:x.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});Z.patch=(e,r)=>({action:x.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...r?.query??r?.mergeQuery??{}}}),method:"post"});x.form=Z;const oe={store:Object.assign(C,C),update:Object.assign(x,x)},Et=[{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"},{label:"Quarterly",value:"quarterly"},{label:"Half-Yearly",value:"half_yearly"},{label:"Yearly",value:"yearly"},{label:"Custom",value:"custom"}];function Dt({bill:e,biller:r}){const o=e?.id!==void 0,{data:n,setData:a,post:s,put:i,processing:d,errors:c,reset:m}=ke({biller_id:r.id,default_amount:e?.default_amount||0,frequency:e?.frequency||"monthly",next_payment_date:e?.next_payment_date||new Date().toISOString().split("T")[0],interval_days:e?.interval_days||1,auto_generate_bill:e?.auto_generate_bill??!0}),p=l=>{l.preventDefault();const h=o?oe.update(e.id).url:oe.store().url;o?i(h):s(h,{onSuccess:()=>{m()}})};return t.jsx(ae,{children:t.jsx(se,{children:t.jsx("form",{onSubmit:p,children:t.jsxs(Qe,{children:[t.jsx(Ue,{children:"Add a new Bill"}),t.jsx(Ge,{children:"Add details about a new bill"}),t.jsxs(ze,{children:[t.jsxs(I,{children:[t.jsx(P,{htmlFor:"default_amount",children:"Default Amount"}),t.jsxs(R,{children:[t.jsx(V,{id:"default_amount",type:"number",step:"0.01",min:"0",value:n.default_amount,onChange:l=>a("default_amount",parseFloat(l.target.value)),placeholder:"Enter default amount"}),t.jsx(E,{errors:c.default_amount?[{message:c.default_amount}]:void 0})]})]}),t.jsxs(I,{children:[t.jsx(P,{htmlFor:"frequency",children:"Frequency"}),t.jsxs(R,{children:[t.jsxs(Ke,{value:n.frequency,onValueChange:l=>a("frequency",l),children:[t.jsx(Ye,{children:t.jsx(We,{placeholder:"Select account type"})}),t.jsx(Xe,{children:Et.map(l=>t.jsx(Je,{value:l.value,children:l.label},l.value))})]}),t.jsx(E,{errors:c.frequency?[{message:c.frequency}]:void 0})]})]}),t.jsxs(I,{children:[t.jsx(P,{htmlFor:"next_payment_date",children:"Next Payment Date"}),t.jsxs(R,{children:[t.jsx(V,{id:"next_payment_date",type:"date",value:n.next_payment_date,onChange:l=>a("next_payment_date",l.target.value)}),t.jsx(E,{errors:c.next_payment_date?[{message:c.next_payment_date}]:void 0})]})]}),n.frequency==="custom"&&t.jsxs(I,{children:[t.jsx(P,{htmlFor:"interval_days",children:"Interval Days"}),t.jsxs(R,{children:[t.jsx(V,{id:"interval_days",type:"number",step:"1",min:"1",max:"31",value:n.interval_days,onChange:l=>a("interval_days",parseInt(l.target.value)),placeholder:"Enter interval days"}),t.jsx(E,{errors:c.interval_days?[{message:c.interval_days}]:void 0})]})]}),t.jsxs(I,{children:[t.jsx(P,{htmlFor:"auto_generate_bill",children:"Auto Generate Bill"}),t.jsx(R,{children:t.jsx(kt,{id:"auto_generate_bill",checked:n.auto_generate_bill,onCheckedChange:l=>a("auto_generate_bill",l)})})]}),t.jsx("div",{className:"flex justify-between gap-2",children:t.jsx($e,{type:"submit",disabled:d,children:d?"Saving...":o?"Save Bill":"Add Bill"})})]})]})})})})}const Tt=[{title:"Billers",href:He.index().url},{title:"Biller Details",href:"#"}];function Wt({biller:e,bill:r,categories:o}){return t.jsxs(Me,{breadcrumbs:Tt,children:[t.jsx(Ee,{title:"Biller Details"}),t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[t.jsx(De,{title:"Biller Details",description:"View the details of a biller"}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsx("div",{className:"col-span-2",children:t.jsx("div",{className:"flex flex-col",children:t.jsx(ot,{biller:e,categories:o})})}),t.jsx("div",{className:"col-span-2 flex flex-col space-y-4",children:t.jsxs(At,{type:"single",collapsible:!0,className:"w-full",defaultValue:"bills-accordion",children:[t.jsxs(ee,{value:"add-bill-accordion",children:[t.jsx(te,{children:"Add Bill"}),t.jsx(re,{children:t.jsx(Dt,{bill:r,biller:e})})]}),e.bills&&e.bills.length>0&&t.jsxs(ee,{value:"bills-accordion",children:[t.jsx(te,{children:"Bills"}),t.jsx(re,{children:t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.bills?.map(n=>t.jsxs(ae,{children:[t.jsx(Ze,{children:t.jsx(et,{children:t.jsxs("h3",{className:"uppercase",children:[n.frequency," ","-"," ",n.default_amount]})})}),t.jsx(se,{children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Next Payment:"," ",Le(n.next_payment_date)]})})]},n.id))})})]})]})})]})]})]})}export{Wt as default};
